generator client {
  provider = "prisma-client"
  output   = "../generated/prisma"
}

datasource db {
  provider = "postgresql"
}

model User {
  id         String   @id @default(uuid())
  email      String   @unique
  name       String?
  created_at DateTime @default(now())
  role       String?
}

model Ad {
  id              String   @id @default(uuid())
  user_email      String
  business_name   String?
  destination_url String?
  title           String?
  Description     String?
  Tags            String[]
  keywords        String[]
  wallet_address  String?
  cost_per_click  Decimal? @db.Decimal(18, 9)
  Clicks   Int?
  Cost     Decimal? @db.Decimal(18, 9)
  imageUrl        String?
  created_at      DateTime @default(now())
  updated_at      DateTime  @default(now()) @updatedAt
  impression Int?
}

model Publisher {
  id             String   @id @default(uuid())
  email          String?  
  website_name   String?
  website_url    String?  @unique
  Tags           String[]
  keywords       String[]
  wallet_address String?
  status         String? @default("INACTIVE")
  created_at     DateTime @default(now())
  updated_at     DateTime  @default(now()) @updatedAt
}

model Impression {
  id          String   @id @default(uuid())
  ad_id       String
  publisher_id String
  publisher_url String
  impression Int

  @@unique([ad_id, publisher_id,publisher_url])
}

model Click {
  id            String   @id @default(uuid())
  ad_id         String
  publisher_id  String
  publisher_url String

}
